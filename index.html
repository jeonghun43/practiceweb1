<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>비트코인 지표 분석 MVP</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <div class="wrap">
    <h1>비트코인 관련 지표 분석 MVP</h1>

    <!-- 컨트롤 -->
    <section class="controls">
      <label for="dataset">데이터셋:</label>
      <select id="dataset">
        <option value="set1">set1</option>
        <option value="set2">set2</option>
      </select>

      <label for="days">기간:</label>
      <select id="days">
        <option value="90d">90일</option>
        <option value="180d" selected>180일</option>
        <option value="365d">365일</option>
      </select>

      <button id="loadBtn">분석 보기</button>
    </section>

    <!-- 요약문 -->
    <section id="summary">
      <h2>요약</h2>
      <div id="summaryContent"></div>
    </section>
  </div>

  <script>
    document.getElementById('loadBtn').addEventListener('click', async () => {
      const dataset = document.getElementById('dataset').value;
      const days = document.getElementById('days').value;
      const file = `data/${dataset}-${days}.json`; // 상대경로

      try {
        const res = await fetch(file);
        const data = await res.json();
        renderSummary(data);
      } catch (e) {
        alert("데이터 로드 실패: " + e);
      }
    });

    function renderSummary(data) {
      const summaryDiv = document.getElementById('summaryContent');
      summaryDiv.innerHTML = "";
      data.summary.forEach(s => {
        const p = document.createElement("p");
        p.textContent = s;
        summaryDiv.appendChild(p);
      });
    }
  </script>
</body>
</html>
